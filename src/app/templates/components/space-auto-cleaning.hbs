{{!-- FIXME: hints text --}}

<div class="row content-row no-border">
  <h1>
    <label for="cleaning-enabled">
      {{t "components.spaceAutoCleaning.autoCleaning"}}
    </label>
    {{one-label-tip
      title="Auto cleaning feature allows Oneprovider to remove replicated files data automatically using user-defined conditions"
      placement="top"
    }}
    {{one-way-toggle inputId="cleaning-enabled"
      checked=isCleanEnabled
      class="pull-right right"
      spinnerSide="left"
      update=(action "toggleCleaning")}}
  </h1>
</div>
{{#if isCleanEnabled}}
  <div class="space-cleaning-settings cleaning-settings-row">
    <div class="form-cell cell">
      {{space-cleaning-conditions-form data=conditionsFormData onSave=(action "fileConditionsChanged")}}
    </div>
    <div class="bar-cell cell">
    <div class="row content-row no-border no-padding-top">
      <h1>
        <label>{{t "components.spaceAutoCleaning.cleaningBoundaries"}}</label>
        {{one-label-tip
          title="Schedule auto cleaning start and stop based on space usage"
          placement="top"
        }}
      </h1>
    </div>
      <div class="row loadable-row content-row no-padding-top no-padding-bottom">
        {{#loading-container
          isLoading=spaceAutoCleaningUpdater.cleanStatusIsInitializing
          errorReason=spaceAutoCleaningUpdater.cleanStatusError
          customErrorMessage=(t "components.spaceAutoCleaning.statusLoadError")
        }}
          {{space-cleaning-bar-chart settings=autoCleaning.settings spaceSize=spaceSize status=status onChange=(action "barValuesChanged")}}
        {{/loading-container}}
      </div>
    </div>
  </div>
  <div>
    <div class="row content-row no-border">
      <h1>
        <label>{{t "components.spaceCleaningReports.cleaningReports"}}</label>
        {{one-label-tip
          title="Each report refers to a single auto cleaning started process"
          placement="top"
        }}
      </h1>
    </div>
    <div class="loadable-row">
      {{#loading-container
        isLoading=spaceAutoCleaningUpdater.cleanReportsIsInitializing
        errorReason=spaceAutoCleaningUpdater.cleanReportsError
        customErrorMessage=(t "components.spaceAutoCleaning.reportsLoadError")
      }}
        {{space-cleaning-reports data=reports}}
      {{/loading-container}}  
    </div>
  </div>
{{/if}}
