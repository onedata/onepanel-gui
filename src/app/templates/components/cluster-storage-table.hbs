{{!-- TODO i18n --}}

{{#if spacesLoadError}}
  {{resource-load-error
    class="alert-some-storages-rejected"
    message="Support information may be incomplete due to spaces data load error"
    onClose=(action (mut spacesLoadError false))
  }}
{{/if}}

{{#if anyStorageRejected}}
  {{resource-load-error
    class="alert-some-storages-rejected"
    message="Some of storage details cannot be loaded properly."
    onClose=(action (mut anyStorageRejected false))
  }}
{{/if}}

{{#one-collapsible-list as |list|}}
  {{#each storages key="id" as |storageProxy|}}
    {{#if storageProxy.isFulfilled}}
      {{#list.item as |listItem|}}
        {{storage-item
          listItem=listItem
          storageProxy=storageProxy.content
          spaces=spaces
          submitModifyStorage=submitModifyStorage
          removeStorage=(action removeStorage storageProxy.content.content)}}
      {{/list.item}}
    {{/if}}
  {{/each}}
{{/one-collapsible-list}}
