{{!-- TODO i18n --}}

{{#bs-form submitOnEnter=false class="form-horizontal" as |form|}}
  {{#form.group}}
    <label class={{concat "control-label " layout.formLabelColumns}}>
      Storage:
    </label>
    <div class={{layout.formInputColumns}}>
      {{#power-select
        loadingMessage="Loading..."
        options=allStoragesProxy
        selected=_selectedStorage
        onchange=(action "storageChanged")
        searchEnabled=false
        renderInPlace=true
        placeholder="Select a storage..."
        as |storage|
      }}
        {{storage.name}}
      {{/power-select}}
    </div>
  {{/form.group}}

  {{one-form-fields
    bsForm=form
    fields=formFields
    formValues=formValues
    inputChanged=(action "inputChanged")
  }}

  {{#form.group}}
    {{one-form-field
      inputId=(concat elementId (concat "-size"))
      field=(hash
        name="size"
        type="number"
        placeholder=(t "components.supportSpaceForm.fields.size")
      )
      value=(get formValues "size")
      disabled=disabled
      inputChanged=(action "inputChanged")
    }}
    {{!-- TODO component for inline radios --}}
    <div class={{layout.formSubmitColumns}}>
      <label class="radio-inline">
        {{one-way-radio (get formValues "sizeUnit")
          id=(concat elementId (concat "-sizeUnit-mb"))
          class="field-sizeUnit-mb"
          option="mb"
          update=(action "inputChanged" "sizeUnit")
        }} MB
      </label>
      <label class="radio-inline">
        {{one-way-radio (get formValues "sizeUnit")
          id=(concat elementId (concat "-sizeUnit-gb"))
          class="field-sizeUnit-gb"
          option="gb"
          update=(action "inputChanged" "sizeUnit")
        }} GB
      </label>
      <label class="radio-inline">
        {{one-way-radio (get formValues "sizeUnit")
          id=(concat elementId (concat "-sizeUnit-tb"))
          class="field-sizeUnit-tb"
          option="tb"
          update=(action "inputChanged" "sizeUnit")
        }} TB
      </label>
    </div>
  {{/form.group}}

  <div class="row">
    <div class={{concat "text-xs-center " layout.formSubmitColumns}}>
      {{#spin-button
        type="submit"
        class="btn btn-primary"
        action=(action "submit")
        disabled=(not canSubmit)
      }}
        Support space
      {{/spin-button}}
    </div>
  </div>
{{/bs-form}}
