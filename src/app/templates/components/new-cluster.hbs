{{#loading-container isLoading=isLoading}}

  {{#unless _isInProcess}}

    {{new-cluster-welcome start=(action (mut _isInProcess))}}

  {{else}}

    {{#one-wizard steps=steps currentIndex=wizardIndex as |w|}}
      {{#if (eq w.step.id "installation")}}
        {{new-cluster-installation
          nextStep=(action "next")
          changeClusterName=(action "changeClusterName")
          deploymentTaskId=deploymentTaskId
        }}
      {{else if (eq w.step.id "ips")}}
        {{new-cluster-ips
          nextStep=(action "next")
          providerDetailsProxy=providerDetailsProxy
        }}
      {{else if (eq w.step.id "providerRegistration")}}
        {{new-cluster-zone-registration
          nextStep=(action "next")
          changeClusterName=(action "changeClusterName")
        }}
      {{else if (eq w.step.id "webCert")}}
        {{new-cluster-web-cert
          nextStep=(action "next")
        }}
      {{else if (eq w.step.id "providerStorage")}}
        {{manage-cluster-storages nextStep=(action "next")}}
      {{else if (eq w.step.id "summary")}}
        {{new-cluster-summary clusterId=clusterId finish=(action "finishInitProcess")}}
      {{/if}}
    {{/one-wizard}}

  {{/unless}}

{{/loading-container}}
